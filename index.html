<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Video.js Player</title>
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-levels@3.0.0/dist/videojs-contrib-quality-levels.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-http-streaming@3.7.0/dist/videojs-http-streaming.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 10px;
      text-align: center;
    }
    #my-player {
      max-width: 100%;
      height: auto;
    }
    .video-js {
      width: 100% !important;
      height: auto !important;
      aspect-ratio: 16 / 9; /* keeps correct proportions */
    }
  </style>
</head>
<body>
  <div style="margin: 20px 0;">
    <h1>Video Player</h1>
    <input type="text" id="video-url" placeholder="Enter video URL (MP4 or M3U8)" style="width:60%; max-width:400px; padding:5px;" />
    <button onclick="loadVideo()" style="padding:5px 20px;">Load Video</button>
  </div>

  <video
    id="my-player"
    class="video-js vjs-default-skin vjs-fluid"
    controls
    preload="auto"
    data-setup='{"fluid": true}'
  >
    <source src="https://example.com/stream.m3u8" type="application/x-mpegURL" />
  </video>

  <script>
    var player = videojs('my-player');

    function loadVideo() {
      var url = document.getElementById("video-url").value.trim();
      if (!url) return alert("Please enter a video URL.");

      var type = "video/mp4";
      if (url.endsWith(".m3u8")) {
        type = "application/x-mpegURL";
      } else if (url.endsWith(".mpd")) {
        type = "application/dash+xml";
      }

      player.src({ src: url, type: type });
      player.play();
    }
  </script>
</body>
</html>
